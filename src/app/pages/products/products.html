<mat-sidenav-container class="products">
    <mat-sidenav mode="side" opened="false" #drawer>
        <div class="p-6 h-full side-bar overflow-hidden sidebar" >
            <div class="catego">
                <h2 class="text-lg text-gray-900 font-bold p-6 m-8 " (click)="drawer.toggle()">Categories</h2>
                <mat-nav-list class="flex gap-4 side-main items-center">
                    @for(cat of categories(); track cat){
                        <mat-list-item [activated] ="cat == category()" class="my-2 side-link" [routerLink]="['/products', cat]">
                            <span matListItemTitle [class]="cat == category() ? 'active': '' ">
                                {{ cat | titlecase}}
                            </span>
                        </mat-list-item>
                    }
                    
                </mat-nav-list>
            </div>
            <div class="imprint-link">
                <a routerLink="/imprint">Imprint</a>
            </div>
        </div>
    </mat-sidenav>
    <mat-sidenav-content class="bg-gray-100 h-full product-content">
        <div class="bg-gray-100 h-full product-list overflow-hidden">
            <h1 class="text-2xl font-bold text-gray-900 mb-1 flex gap-4 items-center ">
                <button type="button" matButton (click)="drawer.toggle()" class="toggle-sidebar text-2xl font-bold">
                    <mat-icon class="text-2xl font-bold">menu_open</mat-icon>
                </button>
                {{ category()}}</h1>
            <p class="text-base text-gray-500 mb-6 ">{{store.filterProducts().length }} products Found</p>
            <div class="grid-responsive m-8">
                @for(product of store.filterProducts(); track product.id ){
                    <app-product-card [product]="product" (addToCardInfo)="addToCart()" appStopPropagation>
                        <app-toggle-wishlist-button [product]="product" iconBtn ='favorite'
                            [style.view-transition-name]="'wishlist-button-' + product.id"
                        ></app-toggle-wishlist-button>
                    </app-product-card>
                }
            </div>
        </div>
    </mat-sidenav-content>
</mat-sidenav-container>




